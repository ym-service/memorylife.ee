@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --body-bg: #130609;
  --body-text: #fbeee2;
  --body-gradient: radial-gradient(circle at 20% 20%, #2a0f15 0%, #140608 48%, #0b0304 100%);
}

:root[data-theme='light'] {
  --body-bg: #fdf7f2;
  --body-text: #341714;
  --body-gradient: radial-gradient(circle at 80% 0%, #ffe7d3 0%, #fbe3c9 30%, #f9d4b4 60%, #f5c49c 100%);
}

body {
  margin: 0;
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background-color: var(--body-bg);
  background-image: var(--body-gradient);
  background-attachment: fixed;
  background-size: cover;
  color: var(--body-text);
  min-height: 100vh;
  transition: background-color 0.4s ease, color 0.4s ease;
}

#root {
  min-height: 100vh;
}

.preview-flicker {
  position: relative;
  overflow: hidden;
}

.preview-flicker::before {
  content: '';
  position: absolute;
  inset: -30%;
  background: radial-gradient(circle at 30% 20%, rgba(255, 214, 170, 0.45), transparent 55%),
    radial-gradient(circle at 70% 80%, rgba(255, 150, 100, 0.35), transparent 60%),
    radial-gradient(circle at 20% 80%, rgba(255, 200, 150, 0.25), transparent 55%);
  filter: blur(60px);
  animation: candleFlicker 6s ease-in-out infinite alternate;
  pointer-events: none;
  mix-blend-mode: screen;
}

.preview-flicker canvas {
  position: relative;
  z-index: 1;
}

@keyframes candleFlicker {
  0% {
    opacity: 0.35;
    transform: translate3d(-3%, -2%, 0) scale(1);
  }
  40% {
    opacity: 0.6;
    transform: translate3d(2%, 1%, 0) scale(1.05);
  }
  70% {
    opacity: 0.45;
    transform: translate3d(-1%, 3%, 0) scale(0.98);
  }
  100% {
    opacity: 0.65;
    transform: translate3d(3%, -3%, 0) scale(1.04);
  }
}
